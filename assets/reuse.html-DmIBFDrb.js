import{_ as a,c as l,a as i,o as n}from"./app-DzEwyuga.js";const s="/smile-website/images/micro/npm.png",p="/smile-website/images/micro/umd.png",t="/smile-website/images/micro/webpack5-bundler.png",r={};function c(h,e){return n(),l("div",null,e[0]||(e[0]=[i('<h1 id="公共代码复用" tabindex="-1"><a class="header-anchor" href="#公共代码复用"><span>公共代码复用</span></a></h1><p>由于项目采用微前端架构，将项目拆分为不同的应用。那么多个应用间如何共用公共代码成为了一个不可忽视的问题。</p><h2 id="npm方式" tabindex="-1"><a class="header-anchor" href="#npm方式"><span>npm方式</span></a></h2><p>将公共代码开发成一个npm包然后发布上去，其他需要用到的应用进行下载安装就能用了。</p><p><img src="'+s+'" alt="npm复用"></p><h3 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点"><span>缺点</span></a></h3><ol><li>需要专门开发npm包</li><li>如果项目代码不能公开，还需要搭建项目内部的npm私服</li><li>npm包更新后，各个子模块需要更新版本，下载，构建项目，才能完成更新</li></ol><h2 id="umd方式" tabindex="-1"><a class="header-anchor" href="#umd方式"><span>UMD方式</span></a></h2><p>UMD方式可以说的是真正的runtime方式使用公共模块，就像我们平时使用jQuery、lodsah一样，通过直接引用他们的cdn，然后直接在项目中进行使用。而且当他们发布更新时候我们也可以做到更新。</p><p><img src="'+p+'" alt="umd"></p><h3 id="缺点-1" tabindex="-1"><a class="header-anchor" href="#缺点-1"><span>缺点</span></a></h3><ol><li>各包库之间易存在冲突</li><li>无法在本地编译时达到最大的优化效果</li><li>本地开发调试困难</li><li>需准备单独CDN服务器发布和更新</li></ol><h2 id="webpack5-模块联邦" tabindex="-1"><a class="header-anchor" href="#webpack5-模块联邦"><span>webpack5 模块联邦</span></a></h2><p>webpack5内置的这个功能比较完美的解决上面几种共享模式下的问题，既可以做到打包发布模块供给后，消费者能够实时保持同步，也可以进行代码构建时候的优化，他可以在一个应用中直接导出使用另外一个应用的模块</p><p><img src="'+t+'" alt="webpack5模块联邦"></p><p>如图B应用作为模块消费方（host），直接import应用A中的模块，A应用作为模块提供方（remote）</p><h3 id="缺点-2" tabindex="-1"><a class="header-anchor" href="#缺点-2"><span>缺点</span></a></h3><ol><li>强依赖webpack5</li><li>前端工具链未成形前，维护较复杂</li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>项目微前端均采用webpack5为构建工具，先天满足模块联邦的需求 模块联邦支持独立打包，独立升级，相比单体应用而言，就是支持局部升级更新，升级粒度更小 由于支持独立打包，所以构建速度和时间相比单体应用就会更快，系统越庞大，效果越明显</p>',20)]))}const o=a(r,[["render",c],["__file","reuse.html.vue"]]),d=JSON.parse('{"path":"/project/micro/reuse.html","title":"公共代码复用","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"npm方式","slug":"npm方式","link":"#npm方式","children":[{"level":3,"title":"缺点","slug":"缺点","link":"#缺点","children":[]}]},{"level":2,"title":"UMD方式","slug":"umd方式","link":"#umd方式","children":[{"level":3,"title":"缺点","slug":"缺点-1","link":"#缺点-1","children":[]}]},{"level":2,"title":"webpack5 模块联邦","slug":"webpack5-模块联邦","link":"#webpack5-模块联邦","children":[{"level":3,"title":"缺点","slug":"缺点-2","link":"#缺点-2","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"updatedTime":1733483676000,"contributors":[{"name":"gang.peng","username":"gang.peng","email":"gang.peng@szyh.com","commits":1,"url":"https://github.com/gang.peng"}]},"filePathRelative":"project/micro/reuse.md"}');export{o as comp,d as data};
