import{_ as n,c as a,a as p,o as e}from"./app-DzEwyuga.js";const t={};function l(i,s){return e(),a("div",null,s[0]||(s[0]=[p(`<h1 id="å¸¸ç”¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨é…ç½®"><span>å¸¸ç”¨é…ç½®</span></a></h1><h2 id="å¤šäº§ç‰©é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¤šäº§ç‰©é…ç½®"><span>å¤šäº§ç‰©é…ç½®</span></a></h2><p>æˆ‘ä»¬å¯ä»¥å°† output æ”¹é€ æˆä¸€ä¸ªæ•°ç»„ï¼Œå¯¹å¤–æš´éœ²å‡ºä¸åŒæ ¼å¼çš„äº§ç‰©ä¾›ä»–äººä½¿ç”¨ï¼Œä¸ä»…åŒ…æ‹¬ <code>ESM</code>ï¼Œä¹Ÿéœ€è¦åŒ…æ‹¬è¯¸å¦‚<code>CommonJS</code>ã€<code>UMD</code>ç­‰æ ¼å¼ï¼Œä¿è¯è‰¯å¥½çš„å…¼å®¹æ€§</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/index.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-iife.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;iife&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-esm.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-cjs.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-umd.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;bundle&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¤šå…¥å£é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¤šå…¥å£é…ç½®"><span>å¤šå…¥å£é…ç½®</span></a></h2><p>é™¤äº†å¤šäº§ç‰©é…ç½®ï¼ŒRollup ä¸­ä¹Ÿæ”¯æŒå¤šå…¥å£é…ç½®</p><p><strong>main.js</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// src/main.js</span></span>
<span class="line"><span class="token keyword">import</span> util <span class="token keyword">from</span> <span class="token string">&quot;./util.js&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> r <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">getRandomNum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸš€ ~ r:&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> cloneObj <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span></span>
<span class="line">cloneObj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸš€ ~ obj:&quot;</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸš€ ~ cloneObj:&quot;</span><span class="token punctuation">,</span> cloneObj<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>rollup.config.js</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/index.js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šå¸¸æƒ…å†µä¸‹å¤šäº§ç‰©å’Œå¤šå…¥å£ä¸¤è€…ä¼šè¢«ç»“åˆèµ·æ¥ä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/index.js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œä¸Šé¢è¿™æ ·çš„å†™çš„è¯ï¼Œç”Ÿæˆçš„äº§ç‰©ä¼šæŠŠä¸¤ä¸ªå…¥å£ä¸€èµ·è¿›è¡Œæ„å»ºï¼Œæˆ‘ä»¬å¯èƒ½çš„æƒ³æ³•æ˜¯ä¸€ä¸ªå…¥å£ä¸€ç§æ„å»ºæ–¹å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RollupOptions<span class="token punctuation">}</span></span></span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">const</span> buildIndexOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/index.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;dist/umd/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;bundle&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RollupOptions<span class="token punctuation">}</span></span></span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">const</span> buildMainOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;dist/esm/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>buildIndexOptions<span class="token punctuation">,</span> buildMainOptions<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²"><span>åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²</span></a></h2><p>ä½¿ç”¨è·¯ç”±æ¥è¯´æ˜æ‡’åŠ è½½æ˜¯å¤§å®¶å–œé—»ä¹è§çš„æ–¹å¼ï¼Œä¼°è®¡å¤§å¤šæ•°åŒå­¦å¯¹äºæ‡’åŠ è½½éƒ½åªæ˜¯åœç•™åœ¨è·¯ç”±çš„æ‡’åŠ è½½ï¼Œå…¶å®ï¼Œä»»ä½•æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨importåŠ¨æ€æ‡’åŠ è½½çš„æ–¹å¼ã€‚é‡æ–°ç¼–è¾‘ä¸€ä¸‹main.jså…¥å£ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// src/main.js</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token comment">// å¦‚æœä¸æ¸…æ¥šimportåŠ¨æ€å¯¼å…¥è¿”å›çš„æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å…ˆæ‰“å°ä¸€ä¸‹ä¸‹é¢ç»“æœ</span></span>
<span class="line">  <span class="token comment">// import(&quot;./util.js&quot;).then(chunk =&gt; console.log(&quot;ğŸš€ ~ chunk:&quot;, chunk));</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./util.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> foo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token keyword">const</span> r <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token function">getRandomNum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸš€ ~ r:&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span> </span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡æ–°è¿è¡Œå¯ä»¥çœ‹åˆ°distç›®å½•å½¢æˆäº†ä¸‹é¢çš„ç»“æ„:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">.</span></span>
<span class="line">â”œâ”€â”€ dist</span>
<span class="line">â”‚   â”œâ”€â”€ esm</span>
<span class="line">â”‚   â”‚   â”œâ”€â”€ main.js</span>
<span class="line">â”‚   â”‚   â””â”€â”€ util-371e3ef9.js</span>
<span class="line">â”‚   â””â”€â”€ umd</span>
<span class="line">â”‚       â””â”€â”€ index.js</span>
<span class="line">â””â”€â”€ <span class="token punctuation">..</span>.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Rollup å°†ä½¿ç”¨åŠ¨æ€å¯¼å…¥åˆ›å»ºä¸€ä¸ªä»…åœ¨éœ€è¦æ—¶åŠ è½½çš„å•ç‹¬å—ã€‚æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°è¿™é‡Œå¤šäº†ä¸€ä¸ª<code>util-371e3ef9.js</code>çš„æ–‡ä»¶</p><blockquote><p>**æ³¨æ„ï¼š**ä¸ºäº†è®© Rollup çŸ¥é“åœ¨å“ªé‡Œæ”¾ç½®ç¬¬äºŒä¸ªå—ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ <code>--file</code> é€‰é¡¹ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>--dir</code> é€‰é¡¹è®¾ç½®ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶å¤¹</p></blockquote><p>å…¶ä¸­ï¼Œ<code>util-371e3ef9.js</code>æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„<code>chunk-[hash].js</code>çš„åå­—ï¼Œ<code>[hash]</code> æ˜¯åŸºäºå†…å®¹çš„å“ˆå¸Œå­—ç¬¦ä¸²ã€‚ä½ å¯ä»¥é€šè¿‡æŒ‡å®š <a href="https://cn.rollupjs.org/configuration-options/#output-chunkfilenames" target="_blank" rel="noopener noreferrer"><code>output.chunkFileNames</code></a> (chunkæ–‡ä»¶)å’Œ <a href="https://cn.rollupjs.org/configuration-options/#output-entryfilenames" target="_blank" rel="noopener noreferrer"><code>output.entryFileNames</code></a> (æ‰“åŒ…å…¥å£æ–‡ä»¶)é€‰é¡¹æ¥æä¾›è‡ªå·±çš„å‘½åæ¨¡å¼ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RollupOptions<span class="token punctuation">}</span></span></span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">const</span> buildMainOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;dist/esm/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">entryFileNames</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">chunkFileNames</span><span class="token operator">:</span> <span class="token string">&#39;chunk-[name]-[hash].js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œä¸”ï¼Œå¾ˆæ™ºèƒ½çš„æ˜¯ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘å®šä¹‰äº†åˆå¤šä¸ªå…¥å£ç‚¹éƒ½è°ƒç”¨äº†<code>util.js</code>æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨çš„å¼•å…¥åˆ†å‰²å‡ºæ¥çš„æ–‡ä»¶</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RollupOptions<span class="token punctuation">}</span></span></span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">const</span> buildMainOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;src/main2.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;dist/esm/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">entryFileNames</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">chunkFileNames</span><span class="token operator">:</span> <span class="token string">&#39;chunk-[name]-[hash].js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ‰“åŒ…åçš„main2.jsä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ ·çš„å¼•ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> util <span class="token keyword">from</span> <span class="token string">&#39;./chunk-util-371e3ef9.js&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,27)]))}const c=n(t,[["render",l],["__file","config.html.vue"]]),r=JSON.parse('{"path":"/advanced/rollup/config.html","title":"å¸¸ç”¨é…ç½®","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"å¤šäº§ç‰©é…ç½®","slug":"å¤šäº§ç‰©é…ç½®","link":"#å¤šäº§ç‰©é…ç½®","children":[]},{"level":2,"title":"å¤šå…¥å£é…ç½®","slug":"å¤šå…¥å£é…ç½®","link":"#å¤šå…¥å£é…ç½®","children":[]},{"level":2,"title":"åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²","slug":"åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²","link":"#åŠ¨æ€å¯¼å…¥ä¸é»˜è®¤ä»£ç åˆ†å‰²","children":[]}],"git":{"updatedTime":1733483676000,"contributors":[{"name":"gang.peng","username":"gang.peng","email":"gang.peng@szyh.com","commits":1,"url":"https://github.com/gang.peng"}]},"filePathRelative":"advanced/rollup/config.md"}');export{c as comp,r as data};
